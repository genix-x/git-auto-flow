# Git Aliases pour Semantic Release + Workflow AmÃ©liorÃ©
# Installation: git config --global include.path $(pwd)/.gitalias

[alias]
    # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    # ğŸš€ WORKFLOW PRINCIPAL
    # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    
    # DÃ©marrer une feature (workflow complet)
    feature-start = "!f() { \
        echo 'ğŸš€ DÃ©marrage feature: '$1; \
        git checkout develop && \
        git pull origin develop && \
        git checkout -b feature/$1 && \
        git push -u origin feature/$1 && \
        echo 'âœ… Feature branch crÃ©Ã©e: feature/'$1; \
    }; f"
    
    # Commit avec rebase automatique (sÃ©curisÃ©)
    commit-safe = "!f() { \
        echo 'ğŸ”„ Rebase sur develop...'; \
        git fetch origin develop; \
        if git rebase origin/develop; then \
            echo 'ğŸ“ Commit interactif...'; \
            pnpm commit; \
        else \
            echo 'âš ï¸  Conflits dÃ©tectÃ©s ! RÃ©solvez-les puis lancez: git rebase --continue && pnpm commit'; \
        fi \
    }; f"
    
    # Alias court pour rebase + commit (legacy)
    rc = "!git commit-safe"
    
    # Finaliser une feature (avant PR)
    feature-finish = "!f() { \
        echo 'ğŸ”„ Finalisation de la feature...'; \
        git fetch origin develop && \
        git rebase origin/develop && \
        git push --force-with-lease origin $(git branch --show-current) && \
        echo 'âœ… Feature prÃªte pour PR vers develop'; \
    }; f"
    
    # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    # ğŸ”§ UTILITAIRES WORKFLOW
    # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    
    # Branches principales
    dev = "!git checkout develop && git pull origin develop"
    main = "!git checkout main && git pull origin main"
    
    # Statut de la branch par rapport Ã  develop/main
    status-dev = "!git fetch origin && echo 'ğŸ“Š Status vs develop:' && git log --oneline origin/develop..HEAD"
    status-main = "!git fetch origin && echo 'ğŸ“Š Status vs main:' && git log --oneline origin/main..HEAD"
    
    # VÃ©rifier si la branch est Ã  jour
    check-behind = "!f() { \
        git fetch origin && \
        BEHIND=$(git rev-list --count HEAD..origin/develop); \
        if [ $BEHIND -gt 0 ]; then \
            echo 'âš ï¸  Branch en retard de '$BEHIND' commits sur develop'; \
            echo 'ğŸ”„ Lancez: git rebase origin/develop'; \
            return 1; \
        else \
            echo 'âœ… Branch Ã  jour avec develop'; \
        fi \
    }; f"
    
    # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    # ğŸ“ COMMITS (Legacy - prÃ©fÃ©rer pnpm commit)
    # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    
    # Commits conventionnels rapides
    cf = "!f() { git commit -m \"feat: $1\"; }; f"
    cx = "!f() { git commit -m \"fix: $1\"; }; f"  
    cd = "!f() { git commit -m \"docs: $1\"; }; f"
    cs = "!f() { git commit -m \"style: $1\"; }; f"
    cr = "!f() { git commit -m \"refactor: $1\"; }; f"
    cp = "!f() { git commit -m \"perf: $1\"; }; f"
    ct = "!f() { git commit -m \"test: $1\"; }; f"
    cb = "!f() { git commit -m \"build: $1\"; }; f"
    ci = "!f() { git commit -m \"ci: $1\"; }; f"
    cc = "!f() { git commit -m \"chore: $1\"; }; f"
    
    # Breaking changes
    cfb = "!f() { git commit -m \"feat!: $1\"; }; f"
    cxb = "!f() { git commit -m \"fix!: $1\"; }; f"
    
    # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    # ğŸ” NAVIGATION & DEBUG
    # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    
    # Logs amÃ©liorÃ©s
    lg = log --oneline --decorate --graph --all -10
    lgf = log --oneline --decorate --graph --all
    last = "log -1 HEAD --stat"
    
    # Status
    st = status -sb
    unstage = "reset HEAD --"
    
    # Utilitaires
    pushup = "!git push -u origin $(git branch --show-current)"
    
    # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    # ğŸš€ SEMANTIC RELEASE
    # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    
    release-dry = "!pnpm semantic-release:dry-run"
    release = "!pnpm semantic-release"